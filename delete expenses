def delete_expense(self):
    """Delete a specific expense from the budget category"""
    
    # Step 1 ➝ Check if there are any expenses to delete
    if not self.type_expense_dict:
        print(f"No expenses found for {self.expense_type}.")
        return
    
    # Step 2 ➝ Show all current expenses with numbers
    print(f"\nCurrent expenses for {self.expense_type}:")
    for i, (expense_type, individual_expense) in enumerate(self.type_expense_dict.items(), 1):
        print(f"{i}. {expense_type}: ${individual_expense:.2f}")
    
    # Step 3 ➝ Keep asking until user makes a valid choice or cancels
    while True:
        try:
            # Step 3a ➝ Ask user which expense to delete
            choice = input("\nEnter the name of the expense you want to delete (or type 'cancel' to exit): ")
            
            # Step 3b ➝ If user cancels, stop function
            if choice.lower() == 'cancel':
                print("Deletion cancelled.")
                return
            
            # Step 3c ➝ Check if expense exists
            if choice in self.type_expense_dict:
                deleted_amount = self.type_expense_dict[choice]  # store before deleting
                del self.type_expense_dict[choice]  # delete expense

                print(f"✔ Successfully deleted '{choice}' (${deleted_amount:.2f}) from {self.expense_type}.")
                
                # Step 4 ➝ Save updated data to both files
                self.write_to_file()
                self.write_to_expenses_file()
                return
            else:
                print(f" Expense '{choice}' not found. Try again.")
        except Exception as e:
            print(f"**THERE WAS AN ERROR**\nError: {e}")


def write_to_file(self):
    """Write expense data to main program file (data.txt)"""
    # This file is mainly for program logic or storing data
    try:
        with open("data.txt", "a") as data:
            data.write(self.expense_type + "\n")  # Write the category name
            # Write each expense as name:amount
            for expense_type, individual_expense in self.type_expense_dict.items():
                data.write(f"{expense_type}:{individual_expense:.2f}\n")
            data.write("\n")  # Add space for separation
    except Exception as e:
        print(f"Error writing to data.txt: {e}")


def write_to_expenses_file(self):
    """Write expenses in readable format (expenses_file.txt)"""
    # This file is formatted like a list for easier reading
    try:
        with open("expenses_file.txt", "a") as expenses:
            expenses.write(f"{self.expense_type}:\n")  # Write category as header
            for expense_type, individual_expense in self.type_expense_dict.items():
                expenses.write(f"  - {expense_type}: ${individual_expense:.2f}\n")  # Bullet-style
            expenses.write("\n")  # Add space between categories
    except Exception as e:
        print(f"Error writing to expenses_file.txt: {e}")

